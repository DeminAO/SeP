<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="CrossMessenger.Client.Messeging.Views.DialogsViewPage"
			 xmlns:vm="clr-namespace:CrossMessenger.Client.Messeging.ViewModels"
			 xmlns:prism="clr-namespace:Prism.Mvvm;assembly=Prism.Forms" x:DataType="vm:DialogsViewPageViewModel"
			 prism:ViewModelLocator.AutowireViewModel="True" >

	<ListView x:Name="MyListView"
            ItemsSource="{Binding Contacts}"
            CachingStrategy="RecycleElement">

		<ListView.ItemTemplate>
			<DataTemplate>
				<ViewCell x:DataType="vm:Contact">
					<StackLayout Orientation="Vertical">
						<Label Text="{Binding Name}" Style="{DynamicResource ListItemTextStyle}" />

						<CarouselView  ItemsSource="{Binding Images}" HorizontalOptions="StartAndExpand">
							<CarouselView.ItemTemplate>
								<DataTemplate>
									<ImageCell ImageSource="{Binding .}"/>
								</DataTemplate>
							</CarouselView.ItemTemplate>
						</CarouselView>
						
						<Label Text="{Binding LastMessage}" Style="{DynamicResource ListItemDetailTextStyle}"/>
					</StackLayout>
				</ViewCell>
			</DataTemplate>
		</ListView.ItemTemplate>
	</ListView>
</ContentPage>
